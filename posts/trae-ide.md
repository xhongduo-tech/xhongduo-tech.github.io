## Trae 是什么？

Trae 是**字节跳动**于 2025 年 1 月推出的 AI 原生 IDE。它基于 VSCode 内核构建，但在 AI 集成的定位上走了一条不同的路：大多数 AI 编程工具是**副驾驶（Copilot）**——你写代码，AI 辅助建议；Trae 的目标是**自动驾驶（Autopilot）**——你描述需求，AI 自主规划、实现、测试。

对于个人开发者，Trae 目前最直接的竞争对手是 Cursor（$20/月）。关键差异在于：Trae 对个人开发者**免费**，且内置 Claude 3.7 Sonnet、GPT-4o、DeepSeek-R1 等主流顶级模型可以直接使用，不需要自己准备 API Key。

---

## 安装与初次配置

### 安装

从 [trae.ai](https://www.trae.ai/) 下载对应平台的安装包：

- **macOS**：下载 `.dmg` 文件（支持 Apple Silicon M1+ 和 Intel），拖入 Applications 安装
- **Windows**：下载 `.exe` 安装包，运行安装向导

> **注意**：截至 2026 年初，Trae 尚未支持 Linux，官网可申请候补名单。

系统要求：macOS 10.15+ 或 Windows 10/11，8GB RAM，稳定网络（AI 功能依赖云端推理）。

### 初次启动

首次打开 Trae，进入简短配置向导：

1. **主题**：Dark / Light / DeepBlue
2. **界面语言**：英文或中文
3. **迁移设置**：可以一键导入已有的 VSCode 或 Cursor 的扩展、配置、快捷键——对 VSCode 用户非常友好

配置完成后，可以打开本地已有项目、克隆 Git 仓库，或直接用自然语言描述一个新项目让 AI 生成。

---

## 核心概念：三种工作模式

Trae 的工作流围绕三种模式展开，对应不同的任务规模和 AI 介入深度。

### Chat 模式

最轻量的交互方式，适合小范围的问答和改动。AI 不会主动修改文件，只给出建议或生成代码供你使用。

```
> 解释一下 src/auth.js 里的 JWT 验证逻辑
> 这个 useEffect 为什么会触发无限渲染？
> 帮我给 getUserById 函数写一个 JSDoc 注释
```

适用场景：代码理解、局部解释、小改动、技术问答。

### Builder 模式

Builder 是 Trae 的核心能力，专门处理**多文件、多步骤**的功能开发任务。

```
你：用自然语言描述需求
       ↓
Trae：拆解任务步骤，列出将要改动的文件
       ↓
   你：检查计划，确认
       ↓
Trae：执行改动，自动运行测试
```

示例：

```
给用户注册流程加邮箱验证：
发送验证码邮件，验证码 10 分钟内有效，
验证通过后才能完成注册。不要改动现有的用户数据表结构。
```

Builder 会先分析当前项目结构，给出改动计划（涉及哪些文件、新建还是修改），确认后才执行。你始终在「看到计划再确认」的节点上保持控制。

### SOLO 模式

SOLO 是自动化程度最高的模式，适合从零构建一个完整功能或小型项目。分两个子模式：

| | SOLO Builder | SOLO Coder |
|--|--|--|
| **风格** | 快速原型，移动迅速 | 谨慎规划，稳步推进 |
| **适用** | 快速看到结果 | 生产代码，需要可维护性 |
| **控制节点** | 较少，AI 自主决策多 | 每步骤有确认节点 |

SOLO 模式下，AI 会完整执行：规划需求 → 生成文件结构 → 写代码 → 运行测试 → 修复失败的测试 → 生成文档，人工干预最少。

**适合场景**：独立功能模块、小工具原型、初期验证。**不建议在核心生产代码上直接用 SOLO**——改动范围难以预期，确认节点少。

---

## 上下文系统：让 AI 真正理解你的项目

Trae 有四种方式向 AI 注入上下文，决定了 AI「知道多少」。

### `#Codebase`

让 AI 扫描并索引整个项目结构。在提问或下达 Builder 任务时加上 `#Codebase`，AI 先理解项目全貌再回答，而不是靠你手动指定文件。

```
> #Codebase 这个项目的认证流程是怎么设计的？数据流从哪里到哪里？
```

### `#Web`

粘贴一个 URL，AI 自动抓取网页内容作为上下文，结合当前代码给出具体建议。

```
> #Web https://docs.react.dev/reference/react/useEffect
  根据最新文档，我的 useEffect 用法哪里不对？
```

适合参考最新文档、查 GitHub issue、读技术文章后直接应用到代码里。

### `#Doc`

上传本地 Markdown 或文本文件（最多 1000 个文件，50MB）作为 AI 的知识库。把内部 API 文档、设计规范、数据库 Schema 说明喂给 AI，让它写代码时遵循这些约定。

### `.rules` 文件

项目根目录下的 `.rules` 文件，功能类似 Claude Code 的 `CLAUDE.md`：每次会话开始时自动加载，让 AI 记住项目约定，不需要每次对话里重复说明。

```markdown
## 技术栈
- 前端：Next.js 14 App Router + TypeScript
- 数据库：PostgreSQL，ORM 用 Prisma
- 测试：Vitest + Testing Library

## 代码规范
- 所有组件用函数组件 + Hooks，禁止 Class 组件
- API 路由统一放在 app/api/ 目录
- 数据库操作封装在 lib/db/ 里，不在路由里直接写 SQL
- 每个新功能需要写对应的单元测试

## 禁止改动
- prisma/migrations/ 目录（已提交的迁移文件不能修改）
- lib/legacy/ 目录（维护中的历史遗留代码）
```

`.rules` 文件是让 AI 持续遵守项目规范最有效的工具，开始一个新项目时应该优先配置好它。

---

## 自定义 Agent

Trae 支持创建专门的自定义 Agent，为不同任务配置独立的 AI 角色和权限。

**创建方式**：侧边栏 Agent 面板 → 新建 Agent，配置：

- **系统提示词**：定义 Agent 的角色、能力边界、回答风格
- **绑定 `.rules` 文件**：为这个 Agent 指定专属上下文规则
- **工具权限**：是否允许访问终端、执行命令
- **Auto-run 模式**：开启后 Agent 可不经确认直接执行工具调用（可配置黑名单限制危险操作）

**调用方式**：在 Chat 或 Builder 里用 `@agent-name` 唤起特定 Agent。

**实际用例**：
- `@reviewer`：只读代码审查，按团队规范严格检查，不做任何修改
- `@doc-writer`：专门生成文档和注释，不碰业务逻辑
- `@test-writer`：专门写测试，熟悉项目的测试框架和覆盖率目标

---

## 可用模型

Trae 内置多个顶级模型，按任务自由切换，不需要自己配置 API Key：

**国际版（trae.ai）**

| 模型 | 适合场景 |
|------|---------|
| Claude 3.7 Sonnet | 复杂推理、多步骤任务（综合推荐）|
| GPT-4o | 响应速度快，工具调用稳定 |
| DeepSeek-R1 | 算法、数学、深度推理 |
| Gemini 2.5 Pro | 超长上下文，大文件分析 |

**国内版（trae.cn）**

| 模型 | 适合场景 |
|------|---------|
| Doubao-1.5-Pro | 字节自研，中文表现好 |
| DeepSeek-V3 / R1 | 通用 + 推理 |
| Kimi K2 | 长上下文，文档理解 |
| GLM 4.5 | 中文场景 |

**免费配额（Free 计划）**：高级模型每月 1000 次请求，自动补全每月 5000 次，对个人开发者日常使用基本够用。Pro 计划（$10/月）提升配额并获得优先队列。

---

## 实战工作流

### 接手陌生项目

```
1. 打开项目，进入 Chat 模式
2. > #Codebase 这个项目是干什么的？核心模块有哪些，数据流怎么走？
3. > 主要的数据库表结构是什么？
4. > 帮我生成一份 .rules 文件，记录你刚才分析出来的项目约定
```

5 分钟内建立对陌生代码库的基本认知，同时为后续 AI 辅助生成项目记忆文件。

### 功能开发标准流程

```
1. 打开 .rules，确认项目约定已记录完整
2. 进入 Builder 模式，自然语言描述需求
3. 检查 Builder 给出的改动计划：涉及哪些文件？逻辑是否合理？
4. 确认后执行，观察测试结果
5. 如有测试失败，Chat 里追问根本原因，再让 Builder 修复
```

### 快速调试

```
1. 把完整报错信息粘贴进 Chat
2. > 这个错误的根本原因是什么？不是只修复表面症状
3. > 找到原因后，先告诉我你打算怎么改，确认后再动手
```

---

## 需要知道的问题：数据隐私

Trae 免费且功能强大，但有一个值得认真对待的问题：**数据采集范围相当广泛**。

根据安全研究人员的分析（2025 年，The Register 等媒体有报道），Trae 在使用过程中会：

- 采集设备信息、键盘输入、IP 地址、使用行为
- 将遥测数据传输至字节跳动服务器（关闭隐私设置后，部分采集仍继续）
- 用户代码经字节跳动服务器处理，数据保留 5 年

这意味着：你编写的代码、业务逻辑、乃至可能存在于代码里的密钥，会经过字节跳动的基础设施。

| 使用场景 | 建议 |
|---------|------|
| 个人项目、学习、开源代码 | 正常使用，影响不大 |
| 工作项目（非敏感）| 了解情况后自行评估 |
| 涉密代码、核心商业逻辑 | 谨慎使用或避免 |
| 企业生产环境 | 需先确认公司安全策略 |

如果对代码隐私有较高要求，Claude Code（本地执行，代码不上传 Anthropic 服务器）是更安全的替代选择。

---

## Trae vs 其他工具

| | Trae | Cursor | Claude Code |
|--|--|--|--|
| **定位** | 全功能 AI IDE | AI 增强 IDE | 终端 AI 助手 |
| **自主性** | 高（Autopilot）| 中 | 中高 |
| **价格** | 免费（有配额）| $20/月 | 按 API 用量 |
| **内置模型** | 多模型免费可用 | 按计划限量 | Claude 系列 |
| **Linux 支持** | 暂不支持 | 支持 | 支持 |
| **数据隐私** | 需注意 | 相对透明 | 较好（本地执行）|
| **适合** | 全栈开发、快速原型 | 大型项目 | 熟悉终端的开发者 |

---

## 总结

Trae 是目前 AI IDE 赛道里定价最激进的产品——免费使用顶级模型，功能上从 Chat 到 SOLO 覆盖了从辅助到自主的完整谱系。对于个人开发者、学习者和不涉及敏感代码的团队，值得认真试用。

**上手时记住三件事：**

1. 优先配置 `.rules` 文件，让 AI 从一开始就理解你的项目约定
2. Builder 模式的「看到计划再确认」流程是避免意外改动的关键，不要跳过
3. 如果你的代码涉及商业机密，在使用前评估数据隐私风险

---

*相关资源*

- 官方网站：[trae.ai](https://www.trae.ai/)（国际版）/ [trae.cn](https://www.trae.cn/)（国内版）
- 官方文档：[docs.trae.ai](https://docs.trae.ai/)
